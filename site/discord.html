<!DOCTYPE html>
<html lang="fr">
  <head>
    <link rel="icon" href="/assets/img/discord-logo.ico" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Template Discord</title>
    <link rel="stylesheet" href="/site/css/discord-style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
  </head>
  <body>
    <div class="sidebar">
      <ul class="sidebar-top">
        <li data-channel="accueil" class="active">
          <i class="fas fa-home"></i>Accueil
        </li>
      </ul>
      <ul class="sidebar-channels">
        <li class="channel-category">Canaux textuels</li>
        <li data-channel="general"><i class="fas fa-hashtag"></i>Général</li>
        <li class="channel-category">Canaux vocaux</li>
        <li data-channel="vocal"><i class="fas fa-microphone"></i>Vocal</li>
      </ul>
      <ul class="sidebar-bottom">
        <li data-channel="parametres"><i class="fas fa-cog"></i>Paramètres</li>
      </ul>
    </div>
    <div class="content">
      <div class="navbar">
        <div class="navbar-left">
          <button id="theme-toggle" class="theme-toggle-btn">
            <i class="fas fa-moon"></i>
          </button>
        </div>
        <div class="search-container">
          <input type="text" class="search" placeholder="Rechercher..." />
        </div>
        <div class="user-info">
          <button id="add-friend-btn" class="add-friend-btn">
            <i class="fas fa-user-plus"></i>
          </button>
          <img
            src="/assets/img/default-avatar.png"
            alt="Avatar"
            class="avatar"
          />
          <span class="username">Utilisateur</span>
        </div>
      </div>
      <div class="chat-container">
        <div id="accueil" class="channel active">
          <h2>Bienvenue sur le serveur</h2>
          <div class="channels-container">
            <div class="channels-box text-channels">
              <h3>Canaux textuels</h3>
              <ul class="channel-list">
                <li data-channel="general">
                  <i class="fas fa-hashtag"></i> Général
                </li>
                <!-- Ajoutez d'autres canaux textuels ici si nécessaire -->
              </ul>
            </div>
            <div class="channels-box voice-channels">
              <h3>Canaux vocaux</h3>
              <ul class="channel-list">
                <li data-channel="vocal">
                  <i class="fas fa-microphone"></i> Vocal
                </li>
                <!-- Ajoutez d'autres canaux vocaux ici si nécessaire -->
              </ul>
            </div>
          </div>
        </div>
        <div id="general" class="channel">
          <div class="chat-messages">
            <div class="chat-bubble system">
              <img
                src="/assets/img/discord-logo.png"
                alt="Discord Logo"
                class="message-avatar"
              />
              <div class="message-content">
                <span class="message-username">Système</span>
                <span class="message-text"
                  >Salut! Bienvenue sur notre serveur.</span
                >
              </div>
            </div>
          </div>
          <form class="message-form">
            <input type="text" placeholder="Envoyer un message..." />
            <button type="submit"><i class="fas fa-paper-plane"></i></button>
          </form>
        </div>
        <div id="vocal" class="channel">
          <h2>Canal vocal</h2>
          <p>Fonctionnalité en cours de développement...</p>
        </div>
        <div id="parametres" class="channel">
          <h2>Paramètres</h2>
          <div class="settings-container">
            <div id="logged-in-settings" style="display: none">
              <form id="settings-form">
                <div class="settings-box">
                  <label for="new-username">Nouveau pseudo :</label>
                  <input type="text" id="new-username" name="new-username" />
                </div>
                <div class="settings-box">
                  <label for="new-avatar">Nouvel avatar :</label>
                  <p class="avatar-hint">
                    Image carrée recommandée. ex : 100x100px
                  </p>
                  <div class="avatar-input-wrapper">
                    <input
                      type="file"
                      id="new-avatar"
                      name="new-avatar"
                      accept="image/*"
                      style="display: none"
                    />
                    <button
                      type="button"
                      id="avatar-button"
                      class="settings-button"
                    >
                      Choisir un avatar
                    </button>
                    <span id="avatar-file-name">Aucun fichier choisi</span>
                  </div>
                </div>
                <div class="settings-box">
                  <div class="friend-code-container">
                    <div class="friend-code-display">
                      <label>Votre code ami :</label>
                      <span id="friend-code" title="Cliquez pour copier"></span>
                    </div>
                    <span
                      id="copy-confirmation"
                      class="copy-confirmation"
                    ></span>
                  </div>
                </div>
                <button type="submit" class="settings-button">
                  Enregistrer
                </button>
              </form>
              <button id="logout-button" class="settings-button">
                Déconnexion
              </button>
            </div>
            <div id="logged-out-settings" style="display: none">
              <p class="not-connected-message">Vous n'êtes pas connecté.</p>
              <p>
                Veuillez vous connecter ou créer un compte pour accéder à toutes
                les fonctionnalités.
              </p>
              <button id="login-button" class="settings-button large-button">
                Se connecter
              </button>
              <button id="signup-button" class="settings-button large-button">
                Créer un compte
              </button>
            </div>
            <div id="friend-requests" class="friend-requests-section">
              <h3>Demandes d'ami</h3>
              <div class="friend-requests-container">
                <div class="sent-requests">
                  <h4>Demandes envoyées</h4>
                  <ul id="sent-requests-list"></ul>
                </div>
                <div class="received-requests">
                  <h4>Demandes reçues</h4>
                  <ul id="received-requests-list"></ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="/site/js/discord.js"></script>
    <!-- Ajoutez ceci juste avant la fermeture de la balise body -->
    <div id="add-friend-modal" class="modal">
      <div class="modal-content">
        <h2>Ajouter un ami</h2>
        <p>Entrez le code ami de l'utilisateur que vous souhaitez ajouter :</p>
        <input type="text" id="friend-code-input" placeholder="Code ami" />
        <div class="modal-buttons">
          <button id="add-friend-confirm" class="settings-button">
            Ajouter
          </button>
          <button id="add-friend-cancel" class="settings-button">
            Annuler
          </button>
        </div>
      </div>
    </div>
    <!-- Ajoutez ceci juste avant la fermeture de la balise body -->
    <div id="avatar-modal" class="modal">
      <div class="modal-content avatar-modal-content">
        <span class="close">&times;</span>
        <img id="enlarged-avatar" src="" alt="Avatar agrandi" />
      </div>
    </div>
    <!-- Ajoutez ceci juste avant la fermeture de la balise body -->
    <div id="user-info-modal" class="modal">
      <div class="modal-content user-info-modal-content">
        <span class="close">&times;</span>
        <img id="modal-avatar" src="" alt="Avatar de l'utilisateur" />
        <h2 id="modal-username"></h2>
        <div class="friend-code-container">
          <p>Code ami : <span id="modal-friend-code"></span></p>
          <button id="copy-friend-code" class="settings-button">
            Copier le code ami
          </button>
        </div>
      </div>
    </div>
    <div id="crop-modal" class="modal">
      <div class="modal-content crop-modal-content">
        <span class="close">&times;</span>
        <div class="crop-container">
          <img id="crop-image" src="" alt="Image à rogner" />
        </div>
        <input
          type="range"
          id="zoom-slider"
          min="0.1"
          max="3"
          step="0.1"
          value="1"
        />
        <button id="crop-confirm" class="settings-button">Confirmer</button>
      </div>
    </div>
  </body>
</html>
